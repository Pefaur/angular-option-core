{"version":3,"sources":["../../../../src/app/user/user.service.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,OAAO,EAAE,UAAA,EAAW,MAAO,eAAA,CAAgB;AAE3C,OAAO,EAAE,OAAA,EAAQ,MAAO,cAAA,CAAe;AACvC,OAAO,EAAE,cAAA,EAAe,MAAO,wBAAA,CAAyB;AACxD,OAAO,EAAE,WAAA,EAAY,MAAO,oBAAA,CAAqB;AAKjD;IAAoC,kCAAc;IAAlD;;IA2CA,CAAC;IAvCC,yCAAgB,GAAhB;QACE,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,GAAG,QAAQ,CAAC;IACtC,CAAC;IAED,qCAAY,GAAZ,UAAa,IAAS;QACpB,MAAM,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC;IAC3B,CAAC;IAED,8BAAK,GAAL;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;YACzB,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC;QAC9B,CAAC;QACD,MAAM,CAAC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI;aACpC,GAAG,CAAC,IAAI,CAAC,gBAAgB,EAAE,GAAG,KAAK,EAAE,EAAC,OAAO,EAAE,IAAI,CAAC,UAAU,EAAE,EAAC,CAAC;aAClE,GAAG,CAAC,UAAU,QAAa;YAC1B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC,CAAC;QACnD,CAAC,CAAC;aACD,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC7B,CAAC;IAED,uCAAc,GAAd,UAAe,cAAsB,EAAE,WAAmB,EAAE,oBAA4B;QACtF,IAAM,IAAI,GAAG;YACX,WAAW,EAAE,cAAc;YAC3B,QAAQ,EAAE,WAAW;YACrB,oBAAoB,EAAE,oBAAoB;SAC3C,CAAC;QACF,MAAM,CAAC,IAAI,CAAC,IAAI;aACb,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,GAAG,cAAc,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,EAAC,OAAO,EAAE,IAAI,CAAC,UAAU,EAAE,EAAC,CAAC;aAClG,GAAG,CAAC,UAAA,QAAQ,IAAI,OAAA,WAAW,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAA9B,CAA8B,CAAC;aAC/C,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC7B,CAAC;IAOH,qBAAC;AAAD,CA3CA,AA2CC,CA3CmC,cAAc;;AAqC3C,yBAAU,GAA0B;IAC3C,EAAE,IAAI,EAAE,UAAU,EAAE;CACnB,CAAC;AACF,kBAAkB;AACX,6BAAc,GAAmE,cAAM,OAAA,EAC7F,EAD6F,CAC7F,CAAC","file":"user.service.js","sourceRoot":"","sourcesContent":["import { Injectable } from '@angular/core';\n\nimport { OptUser } from './user.model';\nimport { OptRestService } from '../shared/rest.service';\nimport { OptResponse } from '../shared/response';\n\nimport { Observable } from 'rxjs/Observable';\n\n\nexport class OptUserService extends OptRestService {\n\n  protected getMeObservable: Observable<OptUser> | null;\n\n  getEntityBaseUrl(): string {\n    return this.getBaseUrl() + '/users';\n  }\n\n  createEntity(json: any): OptUser {\n    return new OptUser(json);\n  }\n\n  getMe(): Observable<OptUser> {\n    const self = this;\n    if (this.getMeObservable) {\n      return this.getMeObservable;\n    }\n    return this.getMeObservable = this.http\n      .get(this.getEntityBaseUrl() + '/me', {headers: this.getHeaders()})\n      .map(function (response: any) {\n        self.getMeObservable = null;\n        return self.createEntity(response.json().result);\n      })\n      .catch(this.handleError);\n  }\n\n  changePassword(actualPassword: string, newPassword: string, confirmationPassword: string): Observable<OptResponse> {\n    const body = {\n      oldPassword: actualPassword,\n      password: newPassword,\n      passwordConfirmation: confirmationPassword\n    };\n    return this.http\n      .post(this.getEntityBaseUrl() + '/me/password', JSON.stringify(body), {headers: this.getHeaders()})\n      .map(response => OptResponse.fromJSON(response))\n      .catch(this.handleError);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}