!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/http"),require("rxjs/add/observable/of"),require("rxjs/Observable"),require("util"),require("moment"),require("rxjs/add/operator/map"),require("rxjs/add/operator/catch"),require("rxjs/add/observable/throw"),require("@angular/router"),require("@angular/http/testing"),require("@angular/forms")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@angular/http","rxjs/add/observable/of","rxjs/Observable","util","moment","rxjs/add/operator/map","rxjs/add/operator/catch","rxjs/add/observable/throw","@angular/router","@angular/http/testing","@angular/forms"],e):e((t.ng=t.ng||{},t.ng.core=t.ng.core||{}),t.ng.core,t.ng.common,t.ng.http,t.Rx,t.Rx,t.util,t.moment,t.Rx,t.Rx,t.Rx,t.ng.router,t._angular_http_testing,t.ng.forms)}(this,function(t,e,r,o,n,s,i,a,u,c,h,p,l,d){"use strict";function f(t,e,r){return t.connections.subscribe(function(t){setTimeout(function(){if(!new T(t).requests()&&!new V(t).requests()){var n=new o.Http(r,e),s=new o.RequestOptions({method:t.request.method,headers:t.request.headers,body:t.request.getBody(),url:t.request.url,withCredentials:t.request.withCredentials,responseType:t.request.responseType});n.request(t.request.url,s).subscribe(function(e){t.mockRespond(e)},function(e){t.mockError(e)})}},500)}),new o.Http(t,e)}var g=new e.InjectionToken("module.config"),y=function(){function t(){}return t.fromJSON=function(e){var r=new t;return r.isStatusOk=e.ok,r.statusCode=e.status,r.headers=e.headers,""!==e._body?r.object=e.json():r.object={},r},t}(),m=function(){function t(t,e){this.config=t,this.http=e,this.headers=new o.Headers({"Content-Type":"application/json"}),this.baseUrl=t.apiUrl}return t.prototype.register=function(t){return this.http.post(this.baseUrl+"/register",JSON.stringify(t.toRegisterForm()),{headers:this.headers}).map(function(t){return y.fromJSON(t)}).catch(this.handleError)},t.prototype.login=function(t,e){var r=this,o={credentials:{username:t,password:e}};return this.http.post(this.baseUrl+"/login",JSON.stringify(o),{headers:this.headers}).map(function(t){return r.setToken(t.json().authorization.simpleToken),y.fromJSON(t)}).catch(this.handleError)},t.prototype.logout=function(){this.clearSession();var t=new y;return t.isStatusOk=!0,t.statusCode=200,s.Observable.of(t)},t.prototype.recoverPassword=function(t){var e={username:t};return this.http.post(this.baseUrl+"/reset/send-email",JSON.stringify(e),{headers:this.headers}).map(function(t){return y.fromJSON(t)}).catch(this.handleError)},t.prototype.resetPassword=function(t,e,r){var o={password:e,passwordConfirmation:r};return this.http.post(this.baseUrl+"/reset-password/"+t,JSON.stringify(o),{headers:this.headers}).map(function(t){return y.fromJSON(t)}).catch(this.handleError)},t.prototype.isLoggedIn=function(){return!!this.getToken()},t.prototype.clearSession=function(){this.removeToken()},t.prototype.removeToken=function(){localStorage.removeItem("authorization_token")},t.prototype.setToken=function(t){localStorage.setItem("authorization_token",t)},t.prototype.getToken=function(){return localStorage.getItem("authorization_token")},t.prototype.handleError=function(t){return console.error("An error occurred",t),s.Observable.throw(y.fromJSON(t))},t}();m.decorators=[{type:e.Injectable}],m.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[g]}]},{type:o.Http}]};var v=function(){function t(t){var e=this;this.config=t,this.scripts={},t.lazyScriptsStore.forEach(function(t){e.scripts[t.name]={loaded:!1,src:t.src}})}return t.prototype.load=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=[];return e.forEach(function(e){return o.push(t.loadScript(e))}),Promise.all(o)},t.prototype.loadScript=function(t){var e=this;return this.scripts[t].promise?this.scripts[t].promise:this.scripts[t].promise=new Promise(function(r,o){if(e.scripts[t].loaded)r({script:t,loaded:!0,status:"Already Loaded"});else{var n=document.createElement("script");n.type="text/javascript",n.src=e.scripts[t].src,n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,e.scripts[t].loaded=!0,r({script:t,loaded:!0,status:"Loaded"}))}:n.onload=function(){e.scripts[t].loaded=!0,r({script:t,loaded:!0,status:"Loaded"})},n.onerror=function(e){return r({script:t,loaded:!1,status:"Loaded"})},document.getElementsByTagName("head")[0].appendChild(n)}})},t.prototype.isLoadedScript=function(t){return!!this.scripts[t].loaded},t}();v.decorators=[{type:e.Injectable}],v.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[g]}]}]};var O=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[m,v,{provide:g,useValue:e}]}},t}();O.decorators=[{type:e.NgModule,args:[{imports:[r.CommonModule],declarations:[]}]}],O.ctorParameters=function(){return[]};var S=function(){function t(t){t&&this.decode(t)}return t.prototype.getFormContentAttribute=function(e,r){var o,n=this;if("id"!==e&&!i.isUndefined(r)){var s=r&&r.id?r.id:null;s=!s&&r&&r._id?r._id:s,r instanceof t&&s?o=s:a.isMoment(r)?o=r.format():Array.isArray(r)?r.length>0&&(o=[],Object.keys(r).map(function(t){var e=n.getFormContentAttribute(t,r[t]);i.isUndefined(e)||o.push(e)})):o=r}return o},t.prototype.getFormContent=function(){var t={},e=this;return Object.keys(this).map(function(r){var o=e[r];r=r.replace(/^[_]/g,"");var n=e.getFormContentAttribute(r,o);i.isUndefined(n)||(t[r]=n)}),t},t.prototype.toForm=function(){var t={};return t[this.getFormEntityName()]=this.getFormContent(),t},t}(),b=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),E=function(){function e(t){this.url=t}return e.getFiltersByUrl=function(e){var r=/\?(.*)/g,o=r.exec(e);if(!o||o&&0===o.length)return[];var n=o[1];if(!n)return[];for(var s=n.split("&"),i=[],a=[],u=0,c=s;u<c.length;u++){var h=c[u],p=h.split("="),l=p[0],d=p[1],f=d.split(":"),g=void 0;switch(l){case"filterBy":var y=f[2],m=y&&"like"===y?t.OperatorOptions.Like:t.OperatorOptions.Equals;g=new w(f[0],f[1],m);break;case"select":g=new q(d);break;case"offset":g=new N(Number.parseInt(d));break;case"limit":g=new B(Number.parseInt(d));break;case"orderBy":var v=f[1],O=v&&"desc"===v?t.OrderByOptions.Desc:t.OrderByOptions.Asc;g=new _(d,O);break;case"search":g=new R(d);break;case"total":g=new A(Number.parseInt(d));break;default:i.push(new k(l,d))}g&&a.push(g)}return i.length>0&&a.push(new j(i)),a},e.prototype.addFilter=function(t){this.url||(this.url=""),this.url.length>0?this.url+="&"+t.toString():this.url+=t.toString()},e.prototype.generateUrl=function(t){var e="";for(var r in t)if(t.hasOwnProperty(r)){var o=t[r],n=o.toString();n&&(e+=e.length>0?"&":"?",e+=n)}return this.url+e},e}(),k=function(){function t(t,e){this._name=t,this._value=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this._name&&this._value?this._name+"="+this._value:""},t}();!function(t){t[t.Equals=0]="Equals",t[t.Like=1]="Like"}(t.OperatorOptions||(t.OperatorOptions={}));var w=function(e){function r(r,o,n){var s=e.call(this,"filterBy",o)||this;return s.attribute=r,s.operatorOption=void 0!==n?n:t.OperatorOptions.Equals,s}return b(r,e),r.prototype.toString=function(){if(this.name&&this.value&&this.attribute){var e=this.name+"="+this.attribute+":"+this.value;return this.operatorOption===t.OperatorOptions.Like&&(e+=":like"),e}return""},r}(k);!function(t){t[t.Desc=0]="Desc",t[t.Asc=1]="Asc"}(t.OrderByOptions||(t.OrderByOptions={}));var _=function(e){function r(r,o){var n=e.call(this,"orderBy",r)||this;return n.orderByOption=void 0!==o?o:t.OrderByOptions.Desc,n}return b(r,e),r.prototype.toString=function(){if(this.name&&this.value){var e="desc";return this.orderByOption===t.OrderByOptions.Asc&&(e="asc"),this.name+"="+this.value+":"+e}return""},r}(k),q=function(t){function e(e){return t.call(this,"select",e)||this}return b(e,t),e}(k),R=function(t){function e(e){return t.call(this,"search",e)||this}return b(e,t),e}(k),B=function(t){function e(e){return t.call(this,"limit",e+"")||this}return b(e,t),e}(k),N=function(t){function e(e){return t.call(this,"offset",e+"")||this}return b(e,t),e}(k),j=function(t){function e(e){var r=t.call(this,"extra",e.toString())||this;return r.filters=e,r}return b(e,t),e.prototype.toString=function(){for(var t="",e=0,r=this.filters;e<r.length;e++){var o=r[e],n=o.toString();n&&(t+=t.length>0?"&":"",t+=n)}return t},e}(k),A=function(t){function e(e){return t.call(this,"total",e+"")||this}return b(e,t),e}(k),U=function(){function t(t,e){this.data=e,this.filtersOptions=E.getFiltersByUrl(t.url),this.filtersOptions.total=new A(Number.parseInt(t.json().total))}return t}(),P=function(){function t(){}return t.MatchPassword=function(t){if(t.get("password").value===t.get("repeatPassword").value)return null;t.get("repeatPassword").setErrors({MatchPassword:!0})},t}(),M=function(){function t(t,e,r){this.config=t,this.auth=e,this.http=r,this.apiVersion="v1.0",this.defaultHeaders=new o.Headers({"Content-Type":"application/json"}),this.apiUrl=t.apiUrl}return t.prototype.createFilteredResponse=function(t){var e=this,r=t.json().result.map(function(t){return e.createEntity(t)});return new U(t,r)},t.prototype.getBaseUrl=function(){return this.apiUrl+"/"+this.apiVersion},t.prototype.getHeaders=function(){var t=Object.assign(this.defaultHeaders.toJSON(),{Authorization:this.auth.getToken()});return new o.Headers(t)},t.prototype.getList=function(){var t=this;return this.http.get(this.getEntityBaseUrl()+"?limit=1000",{headers:this.getHeaders()}).map(function(e){return e.json().result.map(function(e){return t.createEntity(e)})}).catch(this.handleError)},t.prototype.getFilteredList=function(t){var e=this,r=new E(this.getEntityBaseUrl()),o=r.generateUrl(t);return this.http.get(o,{headers:this.getHeaders()}).map(function(t){return e.createFilteredResponse(t)}).catch(this.handleError)},t.prototype.getOne=function(t){var e=this,r=this.getEntityBaseUrl()+"/"+t;return this.http.get(r,{headers:this.getHeaders()}).map(function(t){return e.createEntity(t.json().result)}).catch(this.handleError)},t.prototype.remove=function(t){var e=this.getEntityBaseUrl()+"/"+t;return this.http.delete(e,{headers:this.getHeaders()}).map(function(t){return y.fromJSON(t)}).catch(this.handleError)},t.prototype.create=function(t){return this.http.post(this.getEntityBaseUrl(),JSON.stringify(t.toForm()),{headers:this.getHeaders()}).map(function(t){return y.fromJSON(t)}).catch(this.handleError)},t.prototype.update=function(t){var e=this.getEntityBaseUrl()+"/"+t.id;return this.http.patch(e,JSON.stringify(t.toForm()),{headers:this.getHeaders()}).map(function(t){return y.fromJSON(t)}).catch(this.handleError)},t.prototype.change=function(t){var e=this.getEntityBaseUrl()+"/"+t.id;return this.http.put(e,JSON.stringify(t.toForm()),{headers:this.getHeaders()}).map(function(t){return y.fromJSON(t)}).catch(this.handleError)},t.prototype.handleError=function(t){return console.error("An error occurred",t),s.Observable.throw(y.fromJSON(t))},t}();M.decorators=[{type:e.Injectable}],M.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[g]}]},{type:m},{type:o.Http}]};var F=function(){function t(t,e){this.authService=t,this.router=e,this.loginRoute="/login"}return t.prototype.canActivate=function(t,e){var r=e.url;return this.checkLogin(r)},t.prototype.canActivateChild=function(t,e){return this.canActivate(t,e)},t.prototype.canDeactivate=function(t,e,r){var o=r.url;return this.checkLogout(o)},t.prototype.checkLogin=function(t){return!!this.authService.isLoggedIn()||(this.authService.redirectUrl=t,this.router.navigate([this.loginRoute]),!1)},t.prototype.checkLogout=function(t){return!this.authService.isLoggedIn()||(this.router.navigate([""]),!1)},t}();F.decorators=[{type:e.Injectable}],F.ctorParameters=function(){return[{type:m},{type:p.Router}]};var z=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),x=function(t){function e(e){return t.call(this,new o.ResponseOptions(e))||this}return z(e,t),e}(o.Response),I=function(){function t(t){this.connection=t}return t.prototype.mockRespond=function(t){this.connection.mockRespond(new o.Response(new o.ResponseOptions(t)))},t.prototype.mockError=function(t){this.connection.mockError(new x(t))},t}(),J=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),T=function(t){function e(){var r=null!==t&&t.apply(this,arguments)||this;return r.users=e.getUsers(),r}return J(e,t),e.getUsers=function(){var t=localStorage.getItem("users"),e=t?JSON.parse(t):[];if(0===e.length){e=[{id:1,authorizationSimpleToken:"1",firstName:"Francisco",lastName:"Rodríguez",secondLastName:"Fernández",phone:"+56293214008",cellPhone:"+56993214008",email:"frodriguez@option.cl",bornDate:null,sex:null,healthCare:null,password:"a12345678",avatar:"http://via.placeholder.com/160x160/F1F1F2"}],localStorage.setItem("users",JSON.stringify(e))}return e},e.getUserByAuthorizationSimpleToken=function(t){return e.getUsers().filter(function(e){return e.authorizationSimpleToken===t})[0]},e.prototype.requests=function(){var t=localStorage.getItem("users"),e=t?JSON.parse(t):[];if(this.connection.request.url.endsWith("/login")&&this.connection.request.method===o.RequestMethod.Post){var r=JSON.parse(this.connection.request.getBody()),n=r.credentials,s=this.login(n.username,n.password);return s?this.mockRespond({status:200,body:s}):this.mockError({status:401,statusText:"Username or password is incorrect"}),!0}if(this.connection.request.url.endsWith("/register")&&this.connection.request.method===o.RequestMethod.Post){var i=JSON.parse(this.connection.request.getBody()),a=i[Object.keys(i)[0]];if(e.filter(function(t){return t.email===a.email}).length)return this.mockError({status:400,statusText:"Username "+a.username+" is already taken"}),!0;a.id=e.length+1;var u=this.createAuthorizationBody(a);return a.authorizationSimpleToken=u.authorization.simpleToken,e.push(a),localStorage.setItem("users",JSON.stringify(e)),this.mockRespond({status:200,body:u}),!0}if(this.connection.request.url.endsWith("/reset/send-email")&&this.connection.request.method===o.RequestMethod.Post){var i=JSON.parse(this.connection.request.getBody());return this.mockRespond({status:200,body:{}}),!0}var c=new RegExp("reset-password/.*$");if(this.connection.request.url.match(c)&&this.connection.request.method===o.RequestMethod.Post){var i=JSON.parse(this.connection.request.getBody());return this.mockRespond({status:200,body:{}}),!0}return!1},e.prototype.login=function(t,e){var r=this.users.filter(function(r){return r.username===t&&r.password===e});if(r.length){var o=r[0];return this.createAuthorizationBody(o)}},e.prototype.createAuthorizationBody=function(t){return{authorization:{simpleToken:t.id+""}}},e}(I),L=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.localStorageResources=localStorage.getItem(e.getLocalStorageKey()),e.resources=e.localStorageResources?JSON.parse(e.localStorageResources):[],e}return L(e,t),e.prototype.hasSecurityMock=function(){return!0},e.prototype.generateBody=function(t){var e={filterBy:[],limit:20,offset:0,orderBy:[],pretty:!1,resultDescription:this.getResourceName(),select:[],result:t};return Array.isArray(t)&&(e.total=t.length||1),e},e.prototype.isAuthorizedUser=function(){var t=this.connection.request.headers.get("Authorization")||"";return!!T.getUserByAuthorizationSimpleToken(t)},e.prototype.requests=function(){var t=this.connection.request.url.endsWith(this.getResourceEndpoint()),e=new RegExp(this.getResourceEndpoint()+"\\?"),r=this.connection.request.url.match(e);if((t||r)&&this.connection.request.method===o.RequestMethod.Get)return!this.hasSecurityMock()||this.isAuthorizedUser()?this.mockRespond({status:200,body:this.generateBody(this.resources)}):this.mockError({status:400,statusText:"not authorized"}),!0;var n=new RegExp(this.getResourceEndpoint()+"/\\d+$");if(this.connection.request.url.match(n)&&this.connection.request.method===o.RequestMethod.Get){if(!this.hasSecurityMock()||this.isAuthorizedUser()){var s=this.connection.request.url.split("/"),i=Number.parseInt(s[s.length-1]),a=this.resources.filter(function(t){return t.id===i}),u=a.length?a[0]:null;this.mockRespond({status:200,body:this.generateBody(u)})}else this.mockError({status:400,statusText:"not authorized"});return!0}if(this.connection.request.url.endsWith(this.getResourceEndpoint())&&this.connection.request.method===o.RequestMethod.Post){var c=JSON.parse(this.connection.request.getBody()),h=c[Object.keys(c)[0]];return!this.hasSecurityMock()||this.isAuthorizedUser()?(h.id=this.resources.length+1,this.resources.push(h),localStorage.setItem(this.getLocalStorageKey(),JSON.stringify(this.resources)),this.mockRespond({status:200})):this.mockError({status:400,statusText:"not authorized"}),!0}var p=new RegExp(this.getResourceEndpoint()+"/\\d+$");if(this.connection.request.url.match(p)&&this.connection.request.method===o.RequestMethod.Patch){var c=JSON.parse(this.connection.request.getBody()),l=c[Object.keys(c)[0]];if(!this.hasSecurityMock()||this.isAuthorizedUser()){var s=this.connection.request.url.split("/"),d=Number.parseInt(s[s.length-1]),f=void 0;for(f=0;f<this.resources.length;f++){var u=this.resources[f];if(u.id===d)break}this.resources[f]?(this.resources[f]=Object.assign(this.resources[f],l),localStorage.setItem(this.getLocalStorageKey(),JSON.stringify(this.resources)),this.mockRespond({status:200})):this.mockError({status:404,statusText:"not found"})}else this.mockError({status:400,statusText:"not authorized"});return!0}return!1},e}(I),H=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return H(e,t),e.prototype.getResourceEndpoint=function(){return"/users"},e.prototype.getLocalStorageKey=function(){return"users"},e.prototype.getResourceName=function(){return"users"},e.prototype.requests=function(){var e=this.connection.request.url,r=this.connection.request.method,n=this.getResourceEndpoint()+"/me";if(e.endsWith(n)&&r===o.RequestMethod.Get){if(this.isAuthorizedUser()){var s=this.connection.request.headers.get("Authorization")||"",i=T.getUserByAuthorizationSimpleToken(s),a=this.generateBody(i);this.mockRespond({status:200,body:a})}else this.mockError({status:401});return!0}var u=this.getResourceEndpoint()+"/me/password";if(e.endsWith(u)&&r===o.RequestMethod.Post){if(this.isAuthorizedUser()){var c=JSON.parse(this.connection.request.getBody()),s=this.connection.request.headers.get("Authorization")||"",i=T.getUserByAuthorizationSimpleToken(s);if(i.password===c.oldPassword){var h=void 0;for(h=0;h<this.resources.length;h++){if(this.resources[h].id===i.id)break}i.password=c.password,this.resources[h]=Object.assign(this.resources[h],i),localStorage.setItem(this.getLocalStorageKey(),JSON.stringify(this.resources)),this.mockRespond({status:200})}else this.mockError({status:400,message:"incorrect password"})}else this.mockError({status:401});return!0}return t.prototype.requests.call(this)},e}(C),G={provide:o.Http,useFactory:f,deps:[l.MockBackend,o.BaseRequestOptions,o.XHRBackend]},D=function(){function t(t){this.formBuilder=t,this.submitted=!1,this.serverMessage={message:"Server message",show:!1,isStatusOk:!0},this.SERVER_MESSAGES={401:"Unauthorized message",403:"Forbidden message",500:"Server error","*":"Default error"},this.formErrors={},this.VALIDATION_MESSAGES={},this.PLACEHOLDERS={},this.SUBMIT_LABEL="Submit label",this.formBuilderGroupControlsConfig={field1:[null,[d.Validators.required,d.Validators.email]],field2:[null,[d.Validators.required,d.Validators.minLength(8)]]}}return t.prototype.ngOnInit=function(){this.buildForm()},t.prototype.isFromValid=function(){return this.form.valid},t.prototype.setServerMessage=function(t,e){void 0===e&&(e=!1),this.serverMessage.message=this.SERVER_MESSAGES[t],this.serverMessage.message||(this.serverMessage.message=this.SERVER_MESSAGES["*"]),this.serverMessage.show=!0,this.serverMessage.isStatusOk=e},t.prototype.onSubmit=function(){var t=this;t.submitted=!0,t.onValueChanged(),t.isFromValid()&&this.submit()},t.prototype.buildForm=function(){var t=this;this.form=this.formBuilder.group(this.formBuilderGroupControlsConfig,this.formBuilderGroupExtra),this.form.valueChanges.subscribe(function(e){return t.onValueChanged(e)}),this.onValueChanged()},t.prototype.onValueChanged=function(t){if(this.form){var e=this.form;for(var r in this.formErrors)if(this.formErrors.hasOwnProperty(r)){this.formErrors[r]="";var o=e.get(r);if(o&&o.dirty&&!o.valid||o&&this.submitted){if(!o.errors)continue;var n=this.VALIDATION_MESSAGES[r];for(var s in o.errors)o.errors.hasOwnProperty(s)&&""===this.formErrors[r]&&(this.formErrors[r]=n[s])}}}},t}(),W=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return W(e,t),e.prototype.getFormEntityName=function(){return"user"},e.prototype.toRegisterForm=function(){var e=t.prototype.getFormContent.call(this);return Object.keys(e).map(function(t){var r=e[t];"password"===t&&(e.plainPassword={first:r,second:r})}),{register:e}},e.prototype.decode=function(t){this.id=t.id,this.fullName=t.fullName,this.username=t.username,this.password=t.password,this.email=t.email,this.roles=t.roles,this.phoneNumber=t.phoneNumber},e.prototype.setFullName=function(t,e){this.fullName=t+" "+e},e}(S),$=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $(e,t),e.prototype.getEntityBaseUrl=function(){return this.getBaseUrl()+"/users"},e.prototype.createEntity=function(t){return new K(t)},e.prototype.getMe=function(){var t=this;return this.getMeObservable?this.getMeObservable:this.getMeObservable=this.http.get(this.getEntityBaseUrl()+"/me",{headers:this.getHeaders()}).map(function(e){return t.getMeObservable=null,t.createEntity(e.json().result)}).catch(this.handleError)},e.prototype.changePassword=function(t,e,r){var o={oldPassword:t,password:e,passwordConfirmation:r};return this.http.post(this.getEntityBaseUrl()+"/me/password",JSON.stringify(o),{headers:this.getHeaders()}).map(function(t){return y.fromJSON(t)}).catch(this.handleError)},e}(M);X.decorators=[{type:e.Injectable}],X.ctorParameters=function(){return[]},t.MODULE_CONFIG=g,t.OptionCoreModule=O,t.OptEntity=S,t.OptResponse=y,t.FilterFactory=E,t.Filter=k,t.FilterBy=w,t.OrderBy=_,t.Select=q,t.Search=R,t.Limit=B,t.Offset=N,t.Extra=j,t.Total=A,t.OptFilteredResponse=U,t.OptPasswordValidation=P,t.OptRestService=M,t.OptAuthService=m,t.OptAuthGuard=F,t.AuthMock=T,t.fakeBackendFactory=f,t.fakeBackendProvider=G,t.MockError=x,t.Mock=I,t.RestMock=C,t.UserMock=V,t.OptFormComponent=D,t.OptLazyScriptService=v,t.OptUser=K,t.OptUserService=X,Object.defineProperty(t,"__esModule",{value:!0})});